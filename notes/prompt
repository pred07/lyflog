You are building SYNAPSE â€” a science-first personal observability system that acts as a "quiet mirror" for people navigating difficult life phases (burnout, grief, transition).

CORE PHILOSOPHY (Never violate):
- Observation > Intervention: See patterns, never prescribe action
- Neutrality: No "good/bad" labels, no scores, no gamification
- Privacy: User data never leaves their control
- Restraint: You are a microscope, not a coach

GOLDEN RULE:
Before adding ANY feature, ask: "Does this describe WHAT IS or prescribe WHAT SHOULD BE?"
- WHAT IS â†’ Build it
- WHAT SHOULD BE â†’ Reject it

---

TECH STACK:
- Next.js 14 (App Router)
- Firebase Firestore + Auth
- Tailwind CSS (custom design system)
- Recharts for data viz
- date-fns for time handling

---

APPROVED FEATURES FOR v1.5 (Build these):

1. CONTEXT TIMELINE (Priority 1)
- Vertical scrollable timeline of all user data
- Each day = expandable card showing: metrics, habits, sessions, notes
- Hover interaction: Hovering "Anxiety: 4" highlights all other days with Anxiety 4+
- No analysis, pure layering of information
- Implementation: Infinite scroll, virtualized list for performance

2. SILENT PATTERN INDICATORS
- After 14+ days, show small â€¢ dot on Patterns tab when correlation detected
- Triggers: correlation > 0.6 AND sample size > 20 days
- Click dot â†’ Shows neutral statement: "Sleep duration was consistently higher on days following meditation"
- Never use: percentages, "improved", "better", or prescriptive language

3. CORRELATION CONFIDENCE INDICATORS
- Every correlation shows data quality visually:
  â€¢ Solid dot = 50+ days (high confidence)
  â€¢ Half dot = 20-49 days (emerging pattern)
  â€¢ Empty dot = <20 days (insufficient data)
- Text: "Based on 23 days. Needs 27 more for high confidence."

4. REVERSE ENGINEERING SEARCH
- Let users search: "When did I feel focused?" (Focus 4-5/5)
- Show all matching days
- Below, show neutral frequency counts:
  - "On 82% of these days: Sleep 7+ hrs"
  - "On 65% of these days: Meditation logged"
- No causation claims, only frequencies

5. ISOLATION MODE (Context Zones)
- Let users tag date ranges: "Vacation", "Exam Week", etc.
- Dashboard toggle: â˜ Include context zones
- Zones appear as shaded regions on charts
- Standard data science practice for handling outliers

6. METRIC RELATIONSHIPS MAP
- Visual graph: nodes = metrics, edges = correlation strength
- Click node â†’ Highlights connected metrics
- Label: "Frequently co-occurs" (never "causes" or "improves")

7. SIMILAR PAST DAYS (not predictions)
- After today's log: "Today's pattern resembles 4 past days"
- Shows those days as reference (retrospective, not predictive)
- User can see what came next naturally

8. LAGGED ASSOCIATION VISUALS
- Timeline showing: Day 1 Gym â†’ Day 3 Sleep change
- Text: "Sleep changes tend to appear 1-2 days after gym sessions"
- No percentages, no "better"

9. DIFFICULTY TAGGING (not scoring)
- After habit check: Optional "How did it feel?" â†’ Easy/Neutral/Hard
- Show raw counts: "Meditation: Marked hard 12 times in weeks 1-2, easy 8 times in weeks 3-4"
- No composite scores

10. VOICE LOGGING (input only)
- Speech-to-text: "6 hours sleep, anxiety 3, 2 coffees"
- Pre-fills form â†’ User confirms
- No inference, no suggestions

---

FORBIDDEN FEATURES (Never build):

âŒ Any "% improvement" language
âŒ "What should I focus on?" / The Oracle
âŒ Predictions about future outcomes
âŒ Habit streaks or scores
âŒ Any prescriptive language ("you should", "try this")
âŒ Mood-reactive UI (colors changing based on anxiety level)
âŒ Notifications (except single optional haptic at 9 PM)
âŒ Rankings or "best practices"
âŒ Comparisons to others
âŒ Goals or targets set by the system

---

LANGUAGE GUIDELINES:

âœ… ALLOWED:
- "consistently higher/lower"
- "tends to appear"
- "frequently co-occurs"
- "was observed"
- "on X% of days"
- "resembles"
- "based on N days"

âŒ FORBIDDEN:
- "improved by"
- "you should"
- "better/worse"
- "optimal"
- "recommended"
- "try this"
- "goal"
- "streak"

---

UI/UX PRINCIPLES:

1. CALM BY DEFAULT
- Soft colors, no bright reds/greens
- Animations: subtle, breath-paced (no sudden movements)
- Default to collapsed/minimal views

2. ALWAYS SHOW UNCERTAINTY
- Every insight includes sample size
- Show confidence indicators
- Never hide data gaps

3. EXITS EVERYWHERE
- Complex views have "Simplify" button
- Option to hide numbers, show only shapes (Ghost Mode)
- Can dismiss any insight permanently

4. MOBILE-FIRST
- Sticky bottom navigation
- Thumb-friendly touch targets
- No hamburger menus for core functions

5. TEMPORAL HONESTY
- Every chart shows date range prominently
- No timeless claims

---

EXISTING STRUCTURE TO PRESERVE:

/habits - Daily presence tracking (âœ”/âœ–, no streaks)
/session - Live logging during activities
/dashboard - Pattern visualization (Patterns tab)
/log - Quantitative metric entry
/logbook - Structured archival
/trends - Correlation analysis
/profile - Configuration

Current metrics:
- Core: Sleep, Workout duration, Meditation
- States: Anxiety, Focus, Energy (1-5 scale)
- Exposures: Caffeine, Screen Time

---

DATA HANDLING:

- Run correlations server-side (not real-time)
- Use Pearson correlation for continuous metrics
- Require minimum 20 data points before showing patterns
- Store context zones as metadata on date ranges
- Voice transcription: local processing preferred, fallback to Firebase ML

---

EXAMPLES OF CORRECT IMPLEMENTATION:

GOOD: "Sleep duration averaged 7.2 hours on days following meditation, compared to 6.1 hours on other days. Based on 34 days."

BAD: "Meditation improved your sleep by 18%! Keep it up! ðŸŽ‰"

GOOD: "This pattern resembles April 12, April 19, May 3 (all followed by low-focus days)"

BAD: "Tomorrow you'll probably have low focus. Try meditating tonight."

GOOD: [Chart shows faded dot] "Insufficient data. Log 15 more days to confirm pattern."

BAD: [Chart shows solid line with no confidence indicator]

---

WHEN USER ASKS FOR ADVICE:

Redirect to observation:
âŒ "You should sleep more"
âœ… "On days with 7+ hours sleep, your focus ratings averaged 4.1 vs 2.8 on shorter sleep days"

---

BUILD PRIORITY ORDER:

Sprint 1: Context Timeline, Correlation Confidence
Sprint 2: Silent Indicators, Reverse Engineering
Sprint 3: Isolation Mode, Relationships Map
Sprint 4: Voice Logging, Similar Past Days

---

REMEMBER: SYNAPSE is a personal data microscope. Microscopes reveal structure â€” they never give advice.

If a feature makes you feel helpful, it's probably wrong.
If a feature makes the user see clearly, it's probably right.